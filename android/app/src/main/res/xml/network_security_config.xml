<?xml version="1.0" encoding="utf-8"?>
<network-security-config>
    <!-- Trust system certificates (default behavior) -->
    <base-config cleartextTrafficPermitted="false">
        <trust-anchors>
            <!-- Trust preinstalled CAs -->
            <certificates src="system" />
        </trust-anchors>
    </base-config>
    
    <!-- 
    Debug-only configuration for Android emulators
    This allows the app to work with SSL certificates in emulators
    which often have issues with certificate validation.
    
    In production, this should be removed or set to false.
    For now, we'll keep it to allow development in emulators.
    -->
    <debug-overrides>
        <trust-anchors>
            <!-- Trust system CAs -->
            <certificates src="system" />
            <!-- Trust user-installed CAs (for debugging with proxy tools) -->
            <certificates src="user" />
        </trust-anchors>
    </debug-overrides>
    
    <!-- 
    Alternative: If you need to trust a specific domain in debug mode only,
    uncomment this section and replace with your API domain
    -->
    <!--
    <domain-config cleartextTrafficPermitted="false">
        <domain includeSubdomains="true">api.truledgr.app</domain>
        <trust-anchors>
            <certificates src="system" />
            <certificates src="user" />
        </trust-anchors>
    </domain-config>
    -->
</network-security-config>
