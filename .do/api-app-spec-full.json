
{
  "name": "truledgr-api",
  "services": [
    {
      "name": "truledgr",
      "github": {
        "repo": "McGuireTechnology/TruLedgr",
        "branch": "staging",
        "deploy_on_push": true
      },
      "source_dir": "/",
      "environment_slug": "python",
      "instance_size_slug": "apps-s-1vcpu-0.5gb",
      "instance_count": 1,
      "http_port": 8080,
      "envs": [
        {
          "key": "DATABASE_URL",
          "value": "${DATABASE_URL}"
        },
        {
          "key": "SECRET_KEY",
          "value": "${SECRET_KEY}"
        },
        {
          "key": "VITE_API_URL",
          "value": "https://api.truledgr.app",
          "scope": "RUN_AND_BUILD_TIME"
        }
      ]
    }
  ],
  "domains": [
    {
      "domain": "api.truledgr.app",
      "type": "PRIMARY",
      "zone": "api.truledgr.app"
    }
  ],
  "region": "nyc",
  "alerts": [
    { "rule": "DEPLOYMENT_FAILED" },
    { "rule": "DOMAIN_FAILED" }
  ],
  "ingress": {
    "rules": [
      {
        "match": { "path": { "prefix": "/" } },
        "component": { "name": "truledgr" }
      }
    ]
  },
  "features": ["buildpack-stack=ubuntu-22"]
}
