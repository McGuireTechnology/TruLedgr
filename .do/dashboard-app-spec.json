
{
  "name": "truledgr-dash-new",
  "region": "nyc",
  "static_sites": [
    {
      "name": "dashboard",
      "github": {
        "repo": "McGuireTechnology/TruLedgr",
        "branch": "staging",
        "deploy_on_push": true
      },
      "build_command": "npm ci --include=dev && npm run build",
      "source_dir": "dashboard",
      "output_dir": "dist",
      "index_document": "index.html",
      "catchall_document": "index.html"
    }
  ],
  "envs": [
    {
      "key": "NODE_ENV",
      "value": "production",
      "scope": "RUN_AND_BUILD_TIME"
    },
    {
      "key": "VITE_API_URL",
      "value": "https://api.truledgr.app",
      "scope": "RUN_AND_BUILD_TIME"
    }
  ],
  "domains": [
    {
      "domain": "dash.truledgr.app",
      "type": "PRIMARY"
    }
  ],
  "ingress": {
    "rules": [
      {
        "match": { "path": { "prefix": "/" } },
        "component": { "name": "dashboard" }
      }
    ]
  },
  "features": ["buildpack-stack=ubuntu-22"]
}
