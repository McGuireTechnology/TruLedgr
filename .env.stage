
# =============================================================================
# STAGING ENVIRONMENT - For testing production-like functionality
# =============================================================================

# =============================================================================
# APPLICATION SETTINGS (Staging)
# =============================================================================
APP_NAME="FastAPI Security (Staging)"
DEBUG=false
ENVIRONMENT="staging"

# =============================================================================
# API DOCUMENTATION (Staging: ✅ auth-gated)
# =============================================================================
OPENAPI_ENABLED=true
OPENAPI_AUTH_REQUIRED=true

# =============================================================================
# SECURITY SETTINGS (Staging: production-like)
# =============================================================================
# JWT - Production-like short lifetime
SECRET_KEY="staging-secret-key-change-this-use-env-var-in-cloud-deployment-32-chars-min"
ACCESS_TOKEN_EXPIRE_MINUTES=60  # 1h for staging

# OAuth2 (enabled in staging for testing)
OAUTH2_ENABLED=true
OAUTH2_SESSION_SECRET="oauth-staging-session-secret-change-this-use-env-var-32-chars"
OAUTH2_BASE_URL="https://staging.yourdomain.com"

# Social providers (test credentials)
GOOGLE_OAUTH2_ENABLED=true
GOOGLE_CLIENT_ID=""  # Use staging OAuth app
GOOGLE_CLIENT_SECRET=""
MICROSOFT_OAUTH2_ENABLED=false
MICROSOFT_CLIENT_ID=""
MICROSOFT_CLIENT_SECRET=""
APPLE_OAUTH2_ENABLED=false

# CSRF (enabled like production)
CSRF_ENABLED=true
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_SAMESITE="strict"

# HTTPS (✅ required in staging)
REQUIRE_HTTPS=true
HSTS_ENABLED=true

# =============================================================================
# RATE LIMITING & SECURITY (Staging: ✅ production-like)
# =============================================================================
RATE_LIMIT_ENABLED=true
MAX_LOGIN_ATTEMPTS=5
ACCOUNT_LOCKOUT_DURATION_MINUTES=15

# =============================================================================
# DATABASE (Staging: cloud database)
# =============================================================================
DATABASE_URL="sqlite+aiosqlite:///./stage.db"  # Use PostgreSQL in cloud
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=5
DB_ECHO=false  # No SQL logging in staging
DB_AUTO_MIGRATE=false

# =============================================================================
# CORS (Staging: specific staging domains)
# =============================================================================
CORS_ORIGINS="https://staging.yourdomain.com,https://staging-dashboard.yourdomain.com"

# =============================================================================
# LOGGING (Staging: INFO level, structured)
# =============================================================================
LOG_LEVEL="INFO"
LOG_FORMAT="json"
LOG_FILE="logs/staging.log"
ENABLE_TRACEBACKS=false

# =============================================================================
# CACHING (Staging: production-like Redis)
# =============================================================================
CACHE_ENABLED=true
CACHE_MAX_SIZE=1000
REDIS_ENABLED=true
REDIS_URL="redis://localhost:6379/1"  # Use cloud Redis in deployment

# =============================================================================
# EMAIL/SMS (Staging: real SMTP for testing)
# =============================================================================
EMAIL_ENABLED=true
EMAIL_MODE="smtp"
EMAIL_FROM="noreply@yourdomain.com"
EMAIL_FROM_NAME="FastAPI Auth (Staging)"
SMTP_USER=""
SMTP_PASSWORD=""

# =============================================================================
# PAYMENTS/EXTERNAL APIs (Staging: test keys)
# =============================================================================
PAYMENT_MODE="test"

# =============================================================================
# BACKGROUND JOBS (Staging: production-like)
# =============================================================================
BACKGROUND_TASKS_ENABLED=true
CLEANUP_INTERVAL_MINUTES=60

# =============================================================================
# OBSERVABILITY (Staging: ✅ full monitoring)
# =============================================================================
METRICS_ENABLED=true
PROMETHEUS_ENABLED=true
TRACING_ENABLED=true
TRACING_SERVICE_NAME="fastapi-security-staging"
TRACING_SAMPLE_RATE=0.3

# Error reporting (✅ 100% for staging)
ERROR_REPORTING_ENABLED=true
SENTRY_DSN=""  # Use staging Sentry project

# =============================================================================
# STAGING SERVER (Production-like config)
# =============================================================================
RELOAD=false
PROXY_HEADERS=true

# Performance thresholds (production-like)
SLOW_QUERY_THRESHOLD=1.0
SLOW_REQUEST_THRESHOLD=2.0

# =============================================================================
# FRONTEND CONFIGURATION (Staging)
# =============================================================================
VITE_API_BASE_URL="https://staging-api.yourdomain.com"
VITE_ENV="staging"
VITE_FEATURE_FLAGS="users,groups,items,oauth"
VITE_ANALYTICS_ENABLED=true
VITE_ENABLE_DEVTOOLS=false
VITE_ENABLE_SOURCE_MAPS=false
VITE_SENTRY_DSN=""