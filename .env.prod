# =============================================================================
# PRODUCTION ENVIRONMENT - High security, performance, monitoring
# =============================================================================

# =============================================================================
# APPLICATION SETTINGS (Production)
# =============================================================================
APP_NAME="TruLedgr"
DEBUG=false
ENVIRONMENT="production"

# =============================================================================
# API DOCUMENTATION (Production: ❌ disabled)
# =============================================================================
OPENAPI_ENABLED=false
OPENAPI_AUTH_REQUIRED=true

# =============================================================================
# SECURITY SETTINGS (Production: maximum security)
# =============================================================================
# JWT - Short lifetime, strong key (must be set via environment variable)
SECRET_KEY="prod-secret-key-local-testing-change-this-via-env-var-in-cloud-32-chars-min"  # MUST be set via cloud environment variable
ACCESS_TOKEN_EXPIRE_MINUTES=15  # 15min for production

# OAuth2 (fully enabled in production)
OAUTH2_ENABLED=true
OAUTH2_SESSION_SECRET="oauth-prod-session-secret-local-testing-change-via-env-var-32-chars"  # MUST be set via cloud environment variable
OAUTH2_BASE_URL="https://api.truledgr.app"

# Social providers (production credentials)
GOOGLE_OAUTH2_ENABLED=true
GOOGLE_CLIENT_ID=""  # Set via environment variable
GOOGLE_CLIENT_SECRET=""  # Set via environment variable
MICROSOFT_OAUTH2_ENABLED=true
MICROSOFT_CLIENT_ID=""  # Set via environment variable
MICROSOFT_CLIENT_SECRET=""  # Set via environment variable
APPLE_OAUTH2_ENABLED=false

# CSRF (✅ maximum protection)
CSRF_ENABLED=true
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_SAMESITE="strict"

# HTTPS (✅ required, strict)
REQUIRE_HTTPS=true
HSTS_ENABLED=true

# =============================================================================
# RATE LIMITING & SECURITY (Production: ✅ strict)
# =============================================================================
RATE_LIMIT_ENABLED=true
MAX_LOGIN_ATTEMPTS=3
ACCOUNT_LOCKOUT_DURATION_MINUTES=30

# =============================================================================
# DATABASE (Production: PostgreSQL with connection pooling)
# =============================================================================
DATABASE_URL="sqlite+aiosqlite:///./prod.db"  # PostgreSQL URL set via environment variable
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_ECHO=false  # Never log SQL in production
DB_AUTO_MIGRATE=false

# =============================================================================
# CORS (Production: specific production domains only)
# =============================================================================
CORS_ORIGINS="https://truledgr.com,https://www.truledgr.com,https://dash.truledgr.app"

# =============================================================================
# LOGGING (Production: WARN level, structured, no tracebacks)
# =============================================================================
LOG_LEVEL="WARNING"
LOG_FORMAT="json"
LOG_FILE="logs/production.log"
ENABLE_TRACEBACKS=false

# =============================================================================
# CACHING (Production: Redis cluster)
# =============================================================================
CACHE_ENABLED=true
CACHE_MAX_SIZE=10000
REDIS_ENABLED=true
REDIS_URL=""  # Redis cluster URL set via environment variable

# =============================================================================
# EMAIL/SMS (Production: production SMTP)
# =============================================================================
EMAIL_ENABLED=true
EMAIL_MODE="smtp"
EMAIL_FROM="noreply@truledgr.com"
EMAIL_FROM_NAME="TruLedgr"
SMTP_USER=""  # Set via environment variable
SMTP_PASSWORD=""  # Set via environment variable

# =============================================================================
# PAYMENTS/EXTERNAL APIs (Production: live keys)
# =============================================================================
PAYMENT_MODE="live"

# =============================================================================
# BACKGROUND JOBS (Production: optimized intervals)
# =============================================================================
BACKGROUND_TASKS_ENABLED=true
CLEANUP_INTERVAL_MINUTES=1440  # Daily cleanup

# =============================================================================
# OBSERVABILITY (Production: ✅ full monitoring, sampling)
# =============================================================================
METRICS_ENABLED=true
PROMETHEUS_ENABLED=true
TRACING_ENABLED=true
TRACING_SERVICE_NAME="truledgr-prod"
TRACING_SAMPLE_RATE=0.1  # 10% sampling for performance

# Error reporting (✅ 100% for production)
ERROR_REPORTING_ENABLED=true
SENTRY_DSN=""  # Production Sentry DSN via environment variable

# =============================================================================
# PRODUCTION SERVER (Optimized)
# =============================================================================
RELOAD=false
PROXY_HEADERS=true

# Performance thresholds (strict)
SLOW_QUERY_THRESHOLD=0.5
SLOW_REQUEST_THRESHOLD=1.0

# =============================================================================
# FRONTEND CONFIGURATION (Production)
# =============================================================================
VITE_API_BASE_URL="https://api.truledgr.app"
VITE_ENV="production"
VITE_FEATURE_FLAGS="users,groups,items,oauth,payments"
VITE_ANALYTICS_ENABLED=true
VITE_ENABLE_DEVTOOLS=false
VITE_ENABLE_SOURCE_MAPS=false
VITE_SENTRY_DSN=""  # Production frontend Sentry DSN
